#include "bellman.h"
#include "tsm.h"

using namespace std;

#define MAX_CITY 30

int main() {
    int dist[MAX_CITY], prev[MAX_CITY];
    int n = 20;
    for (int i = 0; i < n; i++) {
        dist[i] = -1;
        prev[i] = -1;
    }

    int G[30][30] =  {
        {0, 78, 0, 50, 27, 8, 6, 69, 42, 59, 91, 80, 65, 71, 68, 3, 93, 42, 67, 53, 50, 27, 8, 6, 69},
        {44, 0, 8, 97, 4, 33, 59, 20, 70, 93, 95, 7, 86, 38, 75, 1, 66, 49, 74, 34, 50, 27, 8, 6, 69},
        {91, 33, 0, 24, 70, 64, 62, 37, 67, 54, 80, 100, 6, 90, 7, 3, 60, 7, 28, 46, 50, 27, 8, 6, 69},
        {43, 20, 40, 0, 50, 5, 79, 91, 74, 10, 39, 47, 44, 29, 80, 35, 99, 43, 97, 2, 50, 27, 8, 6, 69},
        {76, 50, 48, 75, 0, 22, 3, 49, 25, 64, 56, 20, 9, 65, 40, 16, 14, 12, 61, 5, 50, 27, 8, 6, 69},
        {86, 71, 10, 32, 81, 0, 40, 79, 15, 4, 88, 78, 6, 30, 94, 20, 71, 16, 24, 86, 50, 27, 8, 6, 69},
        {7, 54, 7, 27, 29, 72, 0, 34, 45, 53, 12, 72, 24, 64, 42, 34, 96, 23, 74, 40, 50, 27, 8, 6, 69},
        {4, 79, 95, 83, 51, 24, 42, 0, 38, 95, 58, 28, 81, 32, 82, 88, 25, 10, 26, 25, 50, 27, 8, 6, 69},
        {22, 79, 37, 94, 2, 0, 2, 36, 0, 63, 92, 10, 69, 96, 55, 63, 44, 72, 87, 87, 50, 27, 8, 6, 69},
        {9, 48, 10, 37, 95, 8, 85, 48, 34, 0, 96, 74, 59, 84, 52, 63, 77, 20, 63, 45, 50, 27, 8, 6, 69},
        {57, 25, 36, 33, 61, 32, 54, 23, 42, 25, 0, 77, 28, 1, 24, 5, 4, 85, 13, 56, 50, 27, 8, 6, 69},
        {99, 13, 17, 73, 73, 0, 91, 1, 43, 78, 64, 0, 89, 34, 56, 24, 33, 16, 22, 87, 50, 27, 8, 6, 69},
        {39, 65, 78, 82, 59, 45, 72, 64, 16, 56, 44, 72, 0, 55, 23, 89, 94, 62, 89, 50, 50, 27, 8, 6, 69},
        {63, 31, 27, 27, 86, 27, 49, 10, 60, 65, 32, 12, 70, 0, 63, 57, 18, 22, 1, 90, 50, 27, 8, 6, 69},
        {52, 17, 46, 62, 55, 67, 86, 43, 26, 47, 98, 42, 10, 29, 0, 36, 37, 81, 63, 52, 50, 27, 8, 6, 69},
        {91, 90, 83, 90, 68, 18, 52, 24, 36, 74, 93, 26, 93, 76, 38, 0, 54, 31, 4, 39, 50, 27, 8, 6, 69},
        {74, 97, 87, 72, 38, 97, 67, 74, 100, 47, 3, 51, 4, 59, 100, 94, 0, 26, 17, 45, 50, 27, 8, 6, 69},
        {17, 54, 86, 9, 80, 78, 85, 17, 31, 82, 88, 37, 56, 84, 23, 94, 88, 0, 86, 26, 50, 27, 8, 6, 69},
        {28, 85, 39, 31, 1, 43, 56, 0, 2, 48, 17, 14, 65, 37, 100, 40, 16, 43, 0, 92, 50, 27, 8, 6, 69},
        {100, 40, 73, 87, 43, 95, 36, 66, 54, 24, 17, 80, 18, 1, 19, 15, 69, 28, 71, 0, 50, 27, 8, 6, 69},
        {100, 40, 73, 87, 43, 95, 36, 66, 54, 24, 17, 80, 18, 1, 19, 15, 69, 28, 71, 20, 0, 27, 8, 6, 69},
        {28, 85, 39, 31, 1, 43, 56, 0, 2, 48, 17, 14, 65, 37, 100, 40, 16, 43, 20, 92, 50, 0, 8, 6, 69},
        {17, 54, 86, 9, 80, 78, 85, 17, 31, 82, 88, 37, 56, 84, 23, 94, 88, 20, 86, 26, 50, 27, 0, 6, 69},
        {74, 97, 87, 72, 38, 97, 67, 74, 100, 47, 3, 51, 4, 59, 100, 94, 20, 26, 17, 45, 50, 27, 8, 0, 69},
        {52, 17, 46, 62, 55, 67, 86, 43, 26, 47, 98, 42, 10, 29, 29, 36, 37, 81, 63, 52, 50, 27, 8, 6, 0}
    };

    for(int i = 0; i < n; i++){

        BF(G,n,'A',dist,prev);
        
        cout << "Step " << i+1 << ":" <<endl;

        for(int j = 0; j < n; j++){
            cout << dist[j] << " ";
        }
        cout << endl;

        for(int j=0;j<n;j++){
            cout << prev[j] << " ";
        }
        cout<<endl;
    }

    cout << BF_Path(G,n,'A','I') << endl;

    cout << traveling(G, n, 'A');

    return 0;
}